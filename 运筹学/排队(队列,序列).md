#### little法则：预估系统最大吞吐量

![little's Law](pic/排队(队列,序列)/Little-rules.jpg)

如上图，定义一个小店的吞吐量，平均每分钟进店 `2` 个客人(`λ`)，每位客人从等待到完成交易需要 `4` 分钟(`W`)，那我们店里能承载的客人数量就是 `2 * 4 = 8` 个人；同理，可将 `λ` 看做 QPS， `W` 是每个请求需要花费的时间，那系统的吞吐量就是 `L = λ * W`。

这个$w$注意不是处理时间，而是从进门到出去的平均时间。

所以，处理时间是 n。那么 $n+n*m <=w$,其中 m 是等待人数。即，单个队列最大排队数为 $k=\frac{w}{n}$



上面的图画的有点差

其实就是求体积，比如一个圆柱体，V=sh。

一个应用：每年学生要入学 5000 人，4 年制则学校会有 20000 人。